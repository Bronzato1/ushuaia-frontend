<template>

  <require from="./../global/header"></require>

  <header>
    <div slot="injected">
      <button type="button" click.delegate="showPostList()" class="btn btn-info"><span
          class="fa fa-list fa-lg mr-2"></span>Afficher la liste</button>
      <button type="submit" ref="button" form="postForm" class="btn btn-info"><span
          class="fa fa-save fa-lg mr-2"></span>Enregistrer</button>
    </div>
  </header>

  <section class="container au-animate mt-3">
    <form id="postForm" submit.trigger="savePost()">

      <div class="form-group">

        <div class="col-sm-12">
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text">Titre du billet</span>
            </div>
            <input type="text" class="form-control" value.bind="post.title" placeholder="Le titre de votre billet"
              autofocus>
          </div>
        </div>

        <div class="col-sm-5">
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text">Date de cr√©ation</span>
            </div>
            <abp-datetime-picker element.bind="datepicker" model.bind="post.creation"
              options.bind="{ format: 'DD/MM/YYYY', locale: 'fr' }" icon-base="font-awesome" with-date-icon="true"
              style="width: 150px;"></abp-datetime-picker>
          </div>
        </div>

        <div class="col-sm-12">
          <froala-editor value.two-way="post.content" config.bind="{
            toolbarInline: true,
            charCounterCount: false,
            imageUploadURL: 'http://localhost:5000/fapi/froalaapi/UploadImage',
            fileUploadURL: '/FroalaApi/UploadFile',
            imageManagerLoadURL: '/FroalaApi/LoadImages',
            imageManagerDeleteURL: '/FroalaApi/DeleteImage', 
            imageManagerDeleteMethod: 'POST'
          }" event-handlers.bind = "{
            'image.uploaded': imageUploaded,
            'image.removed': imageRemoved,
            'image.file.unlink': imageFileunlink
          }"></froala-editor>
        </div>

      </div>

    </form>
  </section>


</template>
